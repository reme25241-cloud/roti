{% extends 'base.html' %}
{% block title %}Purchase History{% endblock %}

{% block content %}
<div class="container my-5">
    <h3 class="text-center mb-4">ðŸ›’ Your Purchase History</h3>

    {% if purchases %}
        <div class="row g-4">
            {% for item in purchases %}
            <div class="col-md-6 col-lg-4">
                <div class="card shadow-sm border-0 h-100 rounded-4">
                    <div class="card-body">
                        <h5 class="card-title">{{ item.product.title }}</h5>
                        <ul class="list-unstyled small">
                            <li><strong>Qty:</strong> {{ item.quantity }}</li>
                            <li><strong>Price:</strong> â‚¹{{ item.price_per_item }}</li>
                            <li><strong>Total:</strong> â‚¹{{ item.total_price }}</li>
                            <li><strong>Seller:</strong> {{ item.seller.username if item.seller else "N/A" }}</li>
                            <li><strong>Payment:</strong> {{ item.payment_method }}</li>
                            <li><strong>Address:</strong><br>
                                <span class="text-muted">{{ item.shipping_address|linebreaksbr }}</span>
                            </li>
                            <li><strong>Date:</strong> {{ item.purchased_at|date:"M d, Y - H:i" }}</li>
                        </ul>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="alert alert-info text-center">No purchases found.</div>
    {% endif %}
</div>
{% endblock %}
